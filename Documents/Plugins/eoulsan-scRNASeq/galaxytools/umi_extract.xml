<tool id="umi_extract" name="umi_extract">
	<description>Extract barcodes and UMIs and add to read names</description>
	<command interpreter="docker" dockerimage="genomicpariscentre/umi-tools:0.5.1">bash -c "umi_tools extract --stdin \$(echo $input | sed 's/R2/R1/g') --stdout \$(echo ${input} | sed 's/R2/R1extracted/g') --read2-in ${input} --read2-out=${output} --whitelist=${whitelist_umi}  --bc-pattern=CCCCCCCCCCCCCCCCNNNNNNNNNN --filter-cell-barcode 2> ${output}.err"</command>
	<inputs>
		<param format="fastq" name="input" type="data" label="Source file"/>	
		<param format="whitelist_umi" name="whitelist_umi" type="data" label="Source file"/>
	</inputs>
	<outputs>
		<data format="fastq" name="output"/>
	</outputs>
</tool>
